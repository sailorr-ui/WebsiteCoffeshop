<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Form Checkout</title>
</head>
<body>

<h2>Form Checkout</h2>

<form id="formCheckout">
  <input type="text" id="nama" placeholder="Masukkan Nama" required>
  <br><br>
  <button type="submit">Kirim</button>
</form>

<p id="status"></p>

<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
  import { getDatabase, ref, push } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";

  // CONFIG PUNYA KAMU
  const firebaseConfig = {
    apiKey: "AIzaSyCmaCTNGhxjX07I94TA7XXOoLNnbmOF4Ts",
    authDomain: "form-checkout-592c3.firebaseapp.com",
    databaseURL: "https://form-checkout-592c3-default-rtdb.firebaseio.com",
    projectId: "form-checkout-592c3",
    storageBucket: "form-checkout-592c3.firebasestorage.app",
    messagingSenderId: "190795533293",
    appId: "1:190795533293:web:49e162fcbd864902f075e4",
    measurementId: "G-BSS520MEVG"
  };

  // INIT FIREBASE
  const app = initializeApp(firebaseConfig);
  const db = getDatabase(app);

  const form = document.getElementById("formCheckout");
  const status = document.getElementById("status");

  form.addEventListener("submit", function(e){
    e.preventDefault();

    const nama = document.getElementById("nama").value;

    push(ref(db, "checkout"), {
      nama: nama,
      waktu: new Date().toISOString()
    })
    .then(() => {
      status.innerText = "✅ Data berhasil dikirim ke Firebase";
      form.reset();
    })
    .catch((error) => {
      status.innerText = "❌ Error: " + error.message;
      console.log(error);
    });
  });
</script>

</body>
</html>
